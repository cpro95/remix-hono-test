# Welcome to Remix + Cloudflare!

- 📖 [Remix docs](https://remix.run/docs)
- 📖 [Remix Cloudflare docs](https://remix.run/guides/vite#cloudflare)

## Development

Run the dev server:

```sh
npm run dev
```

To run Wrangler:

```sh
npm run build
npm run start
```

## Typegen

Generate types for your Cloudflare bindings in `wrangler.toml`:

```sh
npm run typegen
```

You will need to rerun typegen whenever you make changes to `wrangler.toml`.

## Deployment

First, build your app for production:

```sh
npm run build
```

Then, deploy your app to Cloudflare Pages:

```sh
npm run deploy
```

## DB


Make D1 DB
```sh
npx wrangler d1 create remix-hono-test-db
```

Add below text into wrangler.toml file.

```sh
[[d1_databases]]
binding = "DB" # i.e. available in your Worker on env.DB
database_name = "remix-hono-test-db"
database_id = ""
```

Add schema.sql file in db folder.

```sh
DROP TABLE IF EXISTS Todos;
CREATE TABLE IF NOT EXISTS Todos (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  completed INTEGER NOT NULL DEFAULT 0
);

INSERT INTO Todos (title) VALUES ("test");
```

run following command in terminal.

```sh
npx wrangler d1 execute remix-hono-test-db --local --file=./db/schema.sql 
npx wrangler d1 execute remix-hono-test-db --remote --file=./db/schema.sql 
```

make sure, add DB into ENV variables.

```sh
npm run typegen

> typegen
> wrangler types

 ⛅️ wrangler 3.57.1 (update available 3.80.4)
-------------------------------------------------------
interface Env {
        kv: KVNamespace;
        API_URL: "https://remix-hono-test.pages.dev/";
        DB: D1Database;
}
```

finally, you got your ENV definition file in worker-configuration.d.ts.

```sh
// Generated by Wrangler on Sun Oct 13 2024 17:23:13 GMT+0900 (대한민국 표준시)
// by running `wrangler types`

interface Env {
	kv: KVNamespace;
	API_URL: "https://remix-hono-test.pages.dev/";
	DB: D1Database;
}
```

Now, you are ready to make code with D1 DB.


## Styling

This template comes with [Tailwind CSS](https://tailwindcss.com/) already configured for a simple default starting experience. You can use whatever css framework you prefer. See the [Vite docs on css](https://vitejs.dev/guide/features.html#css) for more information.
